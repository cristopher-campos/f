<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChambAPP</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Enlazamos el archivo CSS separado -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Contenedor Principal de la Aplicación -->
    <div id="app-container">

        <!-- Pantalla de Inicio de Sesión y Registro -->
        <div id="login-register" class="screen active-screen">
            <h1 class="logo">ChambAPP</h1>
            <div class="form-group">
                <input type="text" id="username" class="input-field" placeholder="Nombre de Usuario" autocomplete="username">
            </div>
            <div class="form-group">
                <input type="password" id="password" class="input-field" placeholder="Contraseña" autocomplete="current-password">
            </div>
            <button id="loginBtn" class="btn primary-btn">Iniciar Sesión</button>
            <button id="registerBtn" class="btn secondary-btn">Registrarse</button>
        </div>

        <!-- Pantalla del Menú Principal -->
        <div id="menu-principal" class="screen">
            <div class="header">
                <h1 id="saludoUsuario">¡Hola, usuario!</h1>
                <button id="perfilBtn" class="icon-btn profile-btn" aria-label="Ver perfil"><i class="fas fa-user-circle"></i></button>
            </div>
            <nav class="main-nav">
                <button id="crearOfertaBtn" class="nav-btn">Crear Oferta</button>
                <button id="buscarOfertasBtn" class="nav-btn">Buscar Ofertas</button>
                <button id="verNotificacionesBtn" class="nav-btn">Notificaciones <span id="notifCount" class="notif-badge">0</span></button>
                <button id="chatBtn" class="nav-btn">Chat <span id="chatCount" class="chat-badge">0</span></button>
            </nav>
            <div class="footer-links">
                <button id="logoutBtn" class="link-btn">Cerrar Sesión</button>
            </div>
        </div>

        <!-- Pantalla de Perfil de Usuario -->
        <div id="perfil" class="screen">
            <div class="profile-header">
                <div class="profile-image-container">
                    <img id="perfilFoto" src="https://via.placeholder.com/120/1a1a2e/e0e0e0?text=👤" alt="Foto de perfil" class="profile-image">
                    <input type="file" id="fotoPerfilInput" accept="image/*" class="file-input">
                    <button id="editarFotoBtn" class="edit-photo-btn" aria-label="Cambiar foto"><i class="fas fa-camera"></i></button>
                </div>
                <h2 id="perfilNombre" class="profile-name"></h2>
                <span id="perfilRank" class="profile-rank"></span>
                <span id="perfilSlogan" class="profile-slogan"></span>
                <div class="profile-rating-container">
                    <div class="stars-display" id="perfilStars"></div>
                    <span id="perfilRatingText" class="rating-text"></span>
                </div>
            </div>
            <div class="profile-details">
                <p><strong>Biografía:</strong> <span id="perfilBio"></span></p>
                <p><strong>Contacto:</strong> <span id="perfilContacto"></span></p>
            </div>
            <div class="profile-actions">
                <button id="editarPerfilBtn" class="btn secondary-btn">Editar Perfil</button>
                <button id="volverDesdePerfilBtn" class="btn link-btn">Volver</button>
            </div>
        </div>

        <!-- Pantalla para Editar Perfil -->
        <div id="editar-perfil" class="screen">
            <h2 class="section-title">Editar Perfil</h2>
            <form id="editarPerfilForm">
                <div class="form-group">
                    <label for="inputSlogan">Slogan:</label>
                    <input type="text" id="inputSlogan" class="input-field" maxlength="50">
                </div>
                <div class="form-group">
                    <label for="inputBiografia">Biografía:</label>
                    <textarea id="inputBiografia" class="textarea-field" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="inputContacto">Contacto:</label>
                    <input type="text" id="inputContacto" class="input-field">
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="inputPrivado">
                    <label for="inputPrivado">Perfil Privado</label>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn primary-btn">Guardar Cambios</button>
                    <button type="button" id="cancelarEditarPerfilBtn" class="btn secondary-btn">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Pantalla para Crear Oferta -->
        <div id="crear-oferta" class="screen">
            <h2 class="section-title">Crear Nueva Oferta</h2>
            <form id="crearOfertaForm">
                <div class="form-group">
                    <label for="tituloOferta">Título:</label>
                    <input type="text" id="tituloOferta" class="input-field" required>
                </div>
                <div class="form-group">
                    <label for="descripcionOferta">Descripción:</label>
                    <textarea id="descripcionOferta" class="textarea-field" required></textarea>
                </div>
                <div class="form-group">
                    <label for="tipoOferta">Tipo de Oferta:</label>
                    <select id="tipoOferta" class="select-field" required>
                        <option value="Servicio">Servicio</option>
                        <option value="Producto">Producto</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="categoriaOferta">Categoría:</label>
                    <select id="categoriaOferta" class="select-field" required>
                        <option value="Tecnología">Tecnología</option>
                        <option value="Hogar">Hogar</option>
                        <option value="Artesania">Artesanía</option>
                        <option value="Educación">Educación</option>
                        <option value="Ropa">Ropa</option>
                        <option value="Comida">Comida</option>
                        <option value="Otros">Otros</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="precioOferta">Precio:</label>
                    <input type="number" id="precioOferta" class="input-field" min="0" required>
                </div>
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="isRopaCheckbox">
                    <label for="isRopaCheckbox">¿Es un artículo de ropa?</label>
                </div>
                <!-- Campos específicos para ropa, ocultos por defecto -->
                <div id="ropaFields" style="display: none;">
                    <div class="form-group">
                        <label for="inputTalla">Talla:</label>
                        <input type="text" id="inputTalla" class="input-field" placeholder="Ej: S, M, L o 38, 40">
                    </div>
                    <div class="form-group">
                        <label for="inputGenero">Género:</label>
                        <select id="inputGenero" class="select-field">
                            <option value="No aplica">No aplica</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Unisex">Unisex</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="fotoOferta">Foto (URL):</label>
                    <input type="url" id="fotoOferta" class="input-field" placeholder="https://ejemplo.com/foto.jpg">
                </div>
                <div class="button-group">
                    <button type="submit" class="btn primary-btn">Publicar Oferta</button>
                    <button type="button" id="cancelarCrearOfertaBtn" class="btn secondary-btn">Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Pantalla para Buscar Ofertas -->
        <div id="buscar-ofertas" class="screen">
            <h2 class="section-title">Buscar Ofertas</h2>
            <div class="search-bar">
                <input type="text" id="search-input" class="input-field" placeholder="Buscar por título, descripción...">
                <select id="categoriaFiltro" class="select-field">
                    <option value="Todos">Todas las Categorías</option>
                    <option value="Tecnología">Tecnología</option>
                    <option value="Hogar">Hogar</option>
                    <option value="Artesania">Artesanía</option>
                    <option value="Educación">Educación</option>
                    <option value="Ropa">Ropa</option>
                    <option value="Comida">Comida</option>
                    <option value="Otros">Otros</option>
                </select>
            </div>
            <div id="ofertas-container" class="cards-grid">
                <!-- Las ofertas se generarán aquí -->
            </div>
            <button id="volverDesdeBusquedaBtn" class="btn link-btn">Volver</button>
        </div>
        
        <!-- Pantalla de Notificaciones -->
        <div id="notificaciones" class="screen">
            <h2 class="section-title">Notificaciones</h2>
            <div id="notificaciones-container" class="list-container">
                <!-- Las notificaciones se generarán aquí -->
            </div>
            <button id="volverDesdeNotifBtn" class="btn link-btn">Volver</button>
        </div>

        <!-- Pantalla de Chat -->
        <div id="chat" class="screen">
            <h2 class="section-title">Chat</h2>
            <div id="lista-chats-container" class="list-container">
                <!-- Los chats se generarán aquí -->
            </div>
            <div id="mensajes-chat" class="chat-messages-container">
                <button id="volverAListaChatsBtn" class="btn link-btn back-btn" style="display:none;">Volver a Chats</button>
                <div id="mensajes-container">
                    <!-- Los mensajes se generarán aquí -->
                </div>
                <form id="enviarMensajeForm">
                    <input type="text" id="inputMensaje" class="input-field" placeholder="Escribe un mensaje...">
                    <button type="submit" class="btn primary-btn">Enviar</button>
                </form>
            </div>
        </div>

        <!-- Contenedor de Modal para Confirmaciones y Mensajes -->
        <div id="modal-container" class="modal-container">
            <div class="modal-content">
                <p id="modal-message"></p>
                <div id="modal-buttons" class="modal-button-group">
                    <button id="modal-ok-btn" class="btn primary-btn">Aceptar</button>
                    <button id="modal-cancel-btn" class="btn secondary-btn">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Contenedor de la vista de un chat individual -->
        <div id="chat-individual" class="screen">
            <h2 id="chat-individual-titulo" class="section-title"></h2>
            <div id="chat-individual-mensajes" class="chat-messages-container">
                <!-- Los mensajes se mostrarán aquí -->
            </div>
            <form id="enviar-mensaje-form" class="chat-input-form">
                <input type="text" id="input-mensaje-chat" class="input-field" placeholder="Escribe un mensaje...">
                <button type="submit" class="btn primary-btn">Enviar</button>
            </form>
            <button id="volver-chat-lista" class="btn link-btn">Volver</button>
        </div>

    </div>

    <!-- Enlazamos el archivo JS separado -->
    <script src="script.js"></script>
    <!-- Incluimos Font Awesome para los iconos -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

</body>
</html>

